---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  eval=FALSE,
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%",
  warning = FALSE,
  message = FALSE
)
```

```{r, include=FALSE, eval=TRUE}
# If you actually want to eval all the code here to check that it runs,
# change actually_eval to TRUE and make sure you run this on a Monday
actually_eval <- FALSE
if (actually_eval & focustools::is_monday()) {
  knitr::opts_chunk$set(eval=TRUE)
}
```


# focustools

<!-- badges: start -->
[![R CMD Check (stable)](https://github.com/signaturescience/focustools/workflows/R-CMD-check-stable/badge.svg)](https://github.com/signaturescience/focustools/actions)

[![R CMD Check (dev)](https://github.com/signaturescience/focustools/workflows/R-CMD-check-dev/badge.svg)](https://github.com/signaturescience/focustools/actions)

<!-- badges: end -->

## Installation

Install from GitHub as follows:

``` r
# install.packages("devtools")
devtools::install_github("signaturescience/focustools", build_vignettes = FALSE)
```

## Usage

To get started, see the package vignette:

```{r, eval=FALSE}
vignette("focustools")
```


## Script to create submission-ready forecasts

Run the script in [submission/submission.R](submission/submission.R)  to do the following.

1. Get data (national level from JHU by default)
1. Fit incident case and incident death models (ARIMA and lagged TSLM respectively)
1. Get future case data to create the incident death forecast
1. Create the incident death forecast based on this new data
1. Generate cumulative death forecast by summarizing incident death forecast
1. Prepare submission format
1. Save the submission to the `submission/TEAM-MODEL/YYYY-MM-DD-TEAM-MODEL.csv`
1. Validates the submission


