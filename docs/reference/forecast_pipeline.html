<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pipeline to produce a forecast — forecast_pipeline • focustools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Pipeline to produce a forecast — forecast_pipeline" />
<meta property="og:description" content="
Runs the pipeline with reasonable defaults and some hard-coded values to do the following. See the Examples. For now this function only works on Mondays!
Get data (national level from JHU by default)
Fit incident case and incident death models (ARIMA and lagged TSLM respectively)
Get future case data to create the incident death forecast
Create the incident death forecast based on this new data
Prepare submission format
Suggest a submission filename
Return all resulting objects to a list.

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">focustools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pipeline to produce a forecast</h1>
    
    <div class="hidden name"><code>forecast_pipeline.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#deprecated'><img src='figures/lifecycle-deprecated.svg' alt='[Deprecated]' /></a></p>
<p>Runs the pipeline with reasonable defaults and some hard-coded values to do the following. See the Examples. For now this function only works on Mondays!</p><ol>
<li><p>Get data (national level from JHU by default)</p></li>
<li><p>Fit incident case and incident death models (ARIMA and lagged TSLM respectively)</p></li>
<li><p>Get future case data to create the incident death forecast</p></li>
<li><p>Create the incident death forecast based on this new data</p></li>
<li><p>Prepare submission format</p></li>
<li><p>Suggest a submission filename</p></li>
<li><p>Return all resulting objects to a list.</p></li>
</ol>

    </div>

    <pre class="usage"><span class='fu'>forecast_pipeline</span>(
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"ts"</span>,
  <span class='kw'>source</span> <span class='kw'>=</span> <span class='st'>"jhu"</span>,
  <span class='kw'>granularity</span> <span class='kw'>=</span> <span class='st'>"national"</span>,
  <span class='kw'>horizon</span> <span class='kw'>=</span> <span class='fl'>4</span>,
  <span class='kw'>force</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>method</th>
      <td><p>Forecasting method to use; currently only <code>'ts'</code> (time series) is supported</p></td>
    </tr>
    <tr>
      <th>source</th>
      <td><p>Data source to query; must be one of <code>'jhu'</code> or <code>'nyt'</code>; default is <code>'jhu'</code></p></td>
    </tr>
    <tr>
      <th>granularity</th>
      <td><p>Data aggregation level; must be one of <code>'national'</code>, <code>'state'</code>, or <code>'county'</code>; if data source is <code>'nyt'</code> then only <code>'national'</code> can be used currently; default is <code>'national'</code></p></td>
    </tr>
    <tr>
      <th>horizon</th>
      <td><p>Horizon periods through which the forecasts should be generated; default is <code>4</code></p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>Logical -- force the pipeline to run even if it isn't Monday? (default is <code>FALSE</code>; changing to <code>TRUE</code> may break something if today isn't Monday).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to other functions</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Run all the steps to create models and forecasts</span>
<span class='no'>myforecast</span> <span class='kw'>&lt;-</span> <span class='fu'>forecast_pipeline</span>()
<span class='co'># Look at the submission and the suggested filename.</span>
<span class='no'>myforecast</span>$<span class='no'>submission</span>
<span class='no'>myforecast</span>$<span class='no'>submission_filename</span>
<span class='co'># Write submission to file</span>
<span class='kw pkg'>readr</span><span class='kw ns'>::</span><span class='fu'><a href='https://readr.tidyverse.org/reference/write_delim.html'>write_csv</a></span>(<span class='no'>myforecast</span>$<span class='no'>submission</span>, <span class='kw'>file</span><span class='kw'>=</span><span class='no'>myforecast</span>$<span class='no'>submission_filename</span>)
<span class='co'># Validate submission</span>
<span class='fu'><a href='validate_forecast.html'>validate_forecast</a></span>(<span class='no'>myforecast</span>$<span class='no'>submission_filename</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by VP Nagraj, Stephen Turner, Stephanie Guertin, Chris Hulme-Lowe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


